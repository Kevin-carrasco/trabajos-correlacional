as.factor = TRUE))
proc_LAPOP <- proc_LAPOP %>%
mutate(
IF_Rango = car::recode(Ingresos_familiares,
"0 = 'Ningún ingreso';
1 = 'Menos de 125.000 pesos';
2 = '125.001 - 190.000 pesos';
3 = '190.001 - 225.000 pesos';
4 = '225.001 - 255.000 pesos';
5 = '255.001 - 300.000 pesos';
6 = '300.001 - 335.000 pesos';
7 = '335.001 - 375.000 pesos';
8 = '375.001 - 420.000 pesos';
9 = '420.001 - 470.000 pesos';
10 = '470.001 - 525.000 pesos';
11 = '525.001 - 600.000 pesos';
12 = '600.001 - 690.000 pesos';
13 = '690.001 - 830.000 pesos';
14 = '830.001 - 1.000.000 pesos';
15 = '1.000.001 - 1.500.000 pesos';
16 = 'Más de 1.500.000 pesos'",
as.factor = TRUE))
save(proc_LAPOP, file = "proc_LAPOP.RData")
load("output/proc_LAPOP.RData")
#Tabla descriptiva
View(proc_LAPOP)
View(proc_LAPOP)
proc_LAPOP$Orientación_política <- as.numeric(as.character(proc_LAPOP$Orientación_política))
tabla_op <- proc_LAPOP %>%
summarise(
n = sum(!is.na(Orientación_política)),
media = mean(Orientación_política, na.rm = TRUE),
mediana = median(Orientación_política, na.rm = TRUE),
sd = sd(Orientación_política, na.rm = TRUE),
minimo = min(Orientación_política, na.rm = TRUE),
maximo = max(Orientación_política, na.rm = TRUE),
se = sd / sqrt(n),  # error estándar
ic_95_inf = media - 1.96 * se,
ic_95_sup = media + 1.96 * se
)
tabla_op
ggplot(proc_LAPOP, aes(x = Orientación_política)) +
geom_histogram(binwidth = 1, color = "black", fill = "lightblue") +
labs(title = "Histograma de orientación política",
x = "Orientación política (1 = izquierda, 10 = derecha)",
y = "Frecuencia") +
theme_minimal()
ggplot(proc_LAPOP, aes(y = Orientación_política)) +
geom_boxplot(fill = "lightgreen") +
labs(title = "Boxplot de orientación política",
y = "Orientación política") +
theme_minimal()
ggplot(proc_LAPOP, aes(x = Orientación_política)) +
geom_histogram(binwidth = 1, color = "black", fill = "lightblue") +
labs(title = "Histograma de orientación política",
x = "Orientación política (1 = izquierda, 10 = derecha)",
y = "Frecuencia") +
theme_minimal()
##Género
tabla_genero <- proc_LAPOP %>%
count(Género) %>%
mutate(
porcentaje = round((n / sum(n)) * 100, 2)
)
tabla_genero
summary_OP <- proc_LAPOP %>%
summarise(
n = n(),
media = mean(Orientación_política, na.rm = TRUE),
mediana = median(Orientación_política, na.rm = TRUE),
sd = sd(Orientación_política, na.rm = TRUE),
min = min(Orientación_política, na.rm = TRUE),
max = max(Orientación_política, na.rm = TRUE)
)
summary_OP
tabla_OP_genero <- proc_LAPOP %>%
group_by(Género) %>%
summarise(
n = n(),
media = mean(Orientación_política, na.rm = TRUE),
sd = sd(Orientación_política, na.rm = TRUE)
)
tabla_OP_genero
ggplot(proc_LAPOP, aes(x = Género, y = Orientación_política)) +
geom_boxplot(fill = "lightgreen") +
labs(title = "Orientación política según género",
x = "Género",
y = "Orientación política (1–10)") +
theme_minimal()
tabla_OP_etnicidad <- proc_LAPOP %>%
group_by(Etnicidad2) %>%
summarise(
n = n(),
media = mean(Orientación_política, na.rm = TRUE),
sd = sd(Orientación_política, na.rm = TRUE)
)
tabla_OP_etnicidad
ggplot(proc_LAPOP, aes(x = Etnicidad2, y = Orientación_política)) +
geom_boxplot(fill = "orange") +
labs(title = "Orientación política según etnicidad",
x = "Etnicidad",
y = "Orientación política (1–10)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(proc_LAPOP, aes(x = IF_Rango, y = Orientación_política)) +
geom_boxplot(fill = "violet") +
labs(title = "Orientación política según nivel de ingresos",
x = "Rango de ingresos",
y = "Orientación política (1–10)") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 60, hjust = 1))
tabla_OP_ingresos <- proc_LAPOP %>%
group_by(IF_Rango) %>%
summarise(
n = n(),
media = mean(Orientación_política, na.rm = TRUE),
sd = sd(Orientación_política, na.rm = TRUE)
)
tabla_OP_ingresos
IC_genero <- summarySE(proc_LAPOP, measurevar = "Orientación_política",
groupvars = "Género")
pacman::p_load(tidyverse,
car,
haven,
sjPlot,
sjmisc,
kableExtra,
psych,
janitor,
skimr,
corrplot,
ggmosaic,
ggplot2,
summarytools,
broom,
gmodels,
rempsyc,
Rmisc)
IC_genero <- summarySE(proc_LAPOP, measurevar = "Orientación_política",
groupvars = "Género")
IC_genero
IC_genero <- summarySE(
proc_LAPOP,
measurevar = "Orientación_política",
groupvars = "Género",
conf.interval = .95
)
IC_genero
ggplot(IC_genero, aes(x = Género, y = Orientación_política)) +
geom_point(size = 3) +
geom_errorbar(aes(
ymin = Orientación_política - ci,
ymax = Orientación_política + ci
), width = 0.2) +
labs(
title = "Media de orientación política por género (IC 95%)",
x = "Género",
y = "Orientación política (1–10)"
) +
theme_minimal()
ggplot(proc_LAPOP, aes(x = Orientación_política)) +
geom_histogram(
bins = 10,
color = "black",
fill = "darkred",
alpha = 0.7
) +
labs(
title = "Histograma de Orientación Política",
x = "Orientación política (1 = Izq, 10 = Der)",
y = "Frecuencia",
caption = "Fuente: Elaboración propia en base a LAPOP"
) +
theme_minimal()
#Librerías
pacman::p_load(tidyverse,
sjPlot,
sjmisc,
rstatix,
broom,
corrplot,
psych,
kableExtra,
haven,
sjlabelled,
ggplot)
#Librerías
pacman::p_load(tidyverse,
sjPlot,
sjmisc,
rstatix,
broom,
corrplot,
psych,
kableExtra,
haven,
sjlabelled,
ggplot2)
#Librerías
pacman::p_load(tidyverse,
sjPlot,
sjmisc,
rstatix,
broom,
corrplot,
psych,
kableExtra,
haven,
sjlabelled,
ggplot2)
pacman::p_load(
haven,
dplyr,
tidyverse,
broom)
options(scipen = 999) # para desactivar notacion cientifica
rm(list = ls()) # para limpiar el entorno de trabajo
LAPOP <- read_dta("input/data/Chile LAPOP 2019 v1.0_W.dta")
LAPOP <- read_dta("input/data/Chile LAPOP 2019 v1.0_W.dta")
proc_LAPOP <- haven::read_dta("Chile LAPOP 2019 v1.0_W.dta")
C:/Users/javie/Desktop/Correlacional final 2025 - copia (2)
LAPOP <- read_dta("input/data/Chile LAPOP 2019 v1.0_W.dta")
pacman::p_load(
haven,
dplyr,
tidyverse,
broom)
options(scipen = 999) # para desactivar notacion cientifica
rm(list = ls()) # para limpiar el entorno de trabajo
LAPOP <- read_dta("input/data/Chile LAPOP 2019 v1.0_W.dta")
proc_LAPOP<-LAPOP %>%
dplyr::select(l1, sex, etid, q10new)
proc_LAPOP <- proc_LAPOP %>% rename(Orientación_política = l1,
Género = sex,
Etnicidad = etid,
Ingresos_familiares = q10new)
proc_LAPOP <- proc_LAPOP %>%
mutate(Orientación_política = car::recode(Orientación_política,
"-999:-666 = NA",
as.numeric = TRUE))
proc_LAPOP <- proc_LAPOP %>%
mutate(Género = car::recode(Género,
"-999:-666 = NA",
as.factor = TRUE))
proc_LAPOP <- proc_LAPOP %>%
mutate(Etnicidad = car::recode(Etnicidad,
"-999:-666 = NA",
as.factor = TRUE))
proc_LAPOP <- proc_LAPOP %>%
mutate(Ingresos_familiares = car::recode(Ingresos_familiares,
"-999:-666 = NA",
as.factor = TRUE))
proc_LAPOP <- na.omit(proc_LAPOP)
save(proc_LAPOP, file = "proc_LAPOP.RData")
proc_LAPOP$Orientación_política <- as.numeric(as.character(proc_LAPOP$Orientación_política))
ggplot(proc_LAPOP, aes(x = Orientación_política)) +
geom_histogram(
bins = 10,
color = "black",
fill = "darkred"
) +
labs(
title = "Histograma de Orientación Política",
x = "Orientación política (1 = Izquierda, 10 = Derecha)",
y = "Frecuencia",
caption = "Fuente: Elaboración propia en base a LAPOP"
) +
theme_minimal()
vars <- c("Orientación_política", "Género", "Etnicidad",
"Ingresos_familiares")
proc_LAPOP %>%
select(all_of(vars)) %>%
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
pacman::p_load(tidyverse,
car,
haven,
sjPlot,
sjmisc,
kableExtra,
psych,
janitor,
skimr,
corrplot,
ggmosaic,
ggplot2,
summarytools,
broom,
gmodels,
rempsyc,
Rmisc)
proc_LAPOP %>%
select(all_of(vars)) %>%
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
date: "23-11-2025"
include-in-header: |
vars <- c("Orientación_política", "Género", "Etnicidad",
"Ingresos_familiares")
proc_LAPOP %>%
select(all_of(vars)) %>%
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
proc_LAPOP %>%
select(Orientación_política) %>%
psych::describe()
sjmisc::frq(proc_LAPOP$Género)
sjmisc::frq(proc_LAPOP$Etnicidad)
sjmisc::frq(proc_LAPOP$Ingresos_familiares)
cont_desc <- proc_LAPOP %>%
summarise(
Variable = "Orientación política",
Media = mean(Orientación_política, na.rm = TRUE),
SD = sd(Orientación_política, na.rm = TRUE),
Min = min(Orientación_política, na.rm = TRUE),
Max = max(Orientación_política, na.rm = TRUE),
IC_95_inf = Media - 1.96 * SD / sqrt(n()),
IC_95_sup = Media + 1.96 * SD / sqrt(n())
)
---------------------
#    Trabajo final    #
---------------------
# Cargar librerías ####
pacman::p_load(tidyverse, # manipulación de datos
sjPlot, # hacer gráficos
sjmisc, # descriptivos
rstatix, # test estadísticos
broom, # tablas
corrplot, # correlaciones
psych, # test estadísticos
kableExtra,
haven,
sjlabelled,
knitr,
webshot,
webshot2,
rio,
here,
ggplot2) # tablas
---------------------
#    Trabajo final    #
---------------------
# Cargar librerías ####
pacman::p_load(tidyverse, # manipulación de datos
sjPlot, # hacer gráficos
sjmisc, # descriptivos
rstatix, # test estadísticos
broom, # tablas
corrplot, # correlaciones
psych, # test estadísticos
kableExtra,
haven,
sjlabelled,
knitr,
webshot,
webshot2,
rio,
here,
ggplot2) # tablas
cont_desc <- proc_LAPOP %>%
summarise(
Variable = "Orientación política",
Media = mean(Orientación_política, na.rm = TRUE),
SD = sd(Orientación_política, na.rm = TRUE),
Min = min(Orientación_política, na.rm = TRUE),
Max = max(Orientación_política, na.rm = TRUE),
IC_95_inf = Media - 1.96 * SD / sqrt(n()),
IC_95_sup = Media + 1.96 * SD / sqrt(n())
)
library(tidyverse)
library(psych)
library(sjmisc)
library(kableExtra)
n_total <- nrow(proc_LAPOP)
cont_desc <- proc_LAPOP %>%
summarise(
Variable = "Orientación política",
Media = mean(Orientación_política, na.rm = TRUE),
SD = sd(Orientación_política, na.rm = TRUE),
Min = min(Orientación_política, na.rm = TRUE),
Max = max(Orientación_política, na.rm = TRUE),
IC_95_inf = Media - 1.96 * SD / sqrt(n_total),
IC_95_sup = Media + 1.96 * SD / sqrt(n_total)
)
cat_vars <- c("Género", "Etnicidad", "Ingresos_familiares")
cat_desc <- map_df(cat_vars, function(v){
tab <- as.data.frame(table(proc_LAPOP[[v]]))
colnames(tab) <- c("Categoría", "Frecuencia")
tab %>%
mutate(
Variable = v,
Porcentaje = round(Frecuencia / sum(Frecuencia) * 100, 1)
) %>%
select(Variable, Categoría, Frecuencia, Porcentaje)
})
tabla_final <- bind_rows(
cont_desc %>%
mutate(
Categoría = "",
Frecuencia = "",
Porcentaje = ""
) %>%
select(Variable, Categoría, Frecuencia, Porcentaje,
Media, SD, Min, Max, IC_95_inf, IC_95_sup),
cat_desc %>%
mutate(
Media = "", SD = "", Min = "", Max = "", IC_95_inf = "", IC_95_sup = ""
)
)
vars <- c("Orientación_política", "Género", "Etnicidad",
"Ingresos_familiares")
proc_LAPOP %>%
select(all_of(vars)) %>%
rename("Ingresos familiares" = Ingresos_familiares) %>%   # <- aquí se quita el _
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
table(proc_LAPOP$Género)
proc_LAPOP %>%
select(all_of(vars)) %>%
dplyr::rename(`Ingresos familiares` = Ingresos_familiares) %>%
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
variables <- c("Orientación_política", "Género", "Etnicidad",
"Ingresos_familiares")
proc_LAPOP %>%
select(all_of(vars)) %>%
dplyr::rename(`Ingresos familiares` = Ingresos_familiares) %>%
psych::describe() %>%
kable() %>%
kable_styling(full_width = TRUE)
table(proc_LAPOP$Género)
ggplot(proc_LAPOP, aes(x = Etnicidad)) +
geom_bar(fill = "darkred", color = "black") +
scale_x_discrete(
labels = c(
"1" = "No minoría",
"2" = "No minoría",
"3" = "Minoría",
"4" = "Minoría",
"5" = "Minoría",
"7" = "Minoría"
)
) +
labs(
title = "Frecuencia de minorías étnicas",
x = "Etnicidad (minorización)",
y = "Frecuencia",
caption = "Fuente: Elaboración propia en base a LAPOP"
) +
theme_minimal() +
theme(axis.text.x = element_text(size = 10))
ggplot(
proc_LAPOP %>%
mutate(Etnicidad2 = case_when(
Etnicidad %in% c(1, 2) ~ "No minoría",
Etnicidad %in% c(3, 4, 5, 7) ~ "Minoría",
TRUE ~ NA_character_
))
) +
geom_bar(aes(x = Etnicidad2), fill = "darkred", color = "black") +
labs(
title = "Frecuencia de minorías étnicas",
x = "Etnicidad (minorización)",
y = "Frecuencia",
caption = "Fuente: Elaboración propia en base a LAPOP"
) +
theme_minimal() +
theme(axis.text.x = element_text(size = 10))
## 1. H1: Orientación ~ Género (Prueba t de Student clásica)
# PRUEBA T CLÁSICA
t.test(Orientación_política ~ Género, data = proc_LAPOP, var.equal = TRUE)
# TAMAÑO DEL EFECTO
cohen.d(Orientación_política ~ Género, data = proc_LAPOP)
## 2. H2: Orientación ~ Etnicidad Dicotómica (Prueba t de Student clásica)
# PRUEBA T CLÁSICA
t.test(Orientación_política ~ Etnicidad_Dicotomica, data = proc_LAPOP, var.equal = TRUE)
## 1. H1: Orientación ~ Género (Prueba t de Student clásica)
# PRUEBA T CLÁSICA
t.test(Orientacion ~ Genero, data = proc_LAPOP, var.equal = TRUE)
proc_LAPOP <- proc_LAPOP %>%
mutate(Género = factor(Género,
levels = c(1, 2),
labels = c("Hombres", "Mujeres")))
sjPlot::tab_descr(
proc_LAPOP,
var = c("Orientación_política", "Etnicidad", "Ingresos_familiares"),
by = "Género"
)
load("output/proc_LAPOP.RData")
sjPlot::tab_descr(
proc_LAPOP,
var = c("Orientación_política", "Etnicidad", "Ingresos_familiares"),
by = "Género"
)
proc_LAPOP %>%
mutate(
Género = factor(Género,
levels = c(1, 2),
labels = c("Hombre", "Mujer"))
) %>%
count(Género) %>%
mutate(
Porcentaje = round(n / sum(n) * 100, 1)
) %>%
kable("html",
col.names = c("Género", "Frecuencia", "Porcentaje (%)")) %>%
kable_styling(full_width = FALSE)
