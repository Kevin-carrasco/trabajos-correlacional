df_filtrado <- df[c("r13_ideol_01", "edad_enc", "r16")]
ELSOC_subset <- ELSOC_Wide_2016_2023[, c("r13_ideol_01", "edad_enc", "r16")]
load("ELSOC_Wide_2016_2023.RData")
elsoc_subset <- elsoc_wide_2016_2023[, c("r13_ideol_01", "edad_enc", "r16")]
grep("r13_ideol_01", names(elsoc_wide_2016_2023), value = TRUE)
grep("edad_enc", names(elsoc_wide_2016_2023), value = TRUE)
grep("otras_variable", names(elsoc_wide_2016_2023), value = TRUE)
elsoc_subset <- elsoc_wide_2016_2023[, c("r13_ideol_01", "edad_enc", "r16")]
elsoc_subset <- elsoc_wide_2016_2023[, c("r13_ideol_01", "edad_enc", "r16")]
names(elsoc_wide_2016_2023)
elsoc_subset <- elsoc_wide_2016_2023[, c("r13_ideol_01_w06", "edad_enc", "r16")]
names(elsoc_wide_2016_2023)
load("ELSOC_Long_2016_2023.RData")
load("C:/Users/And/Desktop/Trabajo Final Correlacional/ELSOC_Long_2016_2023.RData")
View(elsoc_long_2016_2023)
names(elsoc_long_2016_2023)
names(elsoc_long_2016_2023)
elsoc_subset <- elsoc_wide_2016_2023[, c("r13_ideol_03", "edad_enc", "r16")]
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 3)
View(elsoc_subset)
names(elsoc_long_2016_2023)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "edad_enc", "r16")]
frq(elsoc_subset)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
frq(elsoc_subset)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "edad_enc", "r16")]
frq(elsoc_subset)
elsoc_subset <- elsoc_subset %>%
mutate(across(everything(),
~ replace(.x, .x %in% c(-999, -888, -777, -666), NA)))
frq(elsoc_subset)
frq(elsoc_subset)
names(elsoc_long_2016_2023)
load("C:/Users/And/Desktop/Trabajo Final Correlacional/ELSOC_Long_2016_2023.RData")
load("C:/Users/And/Desktop/Trabajo Final Correlacional/ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "edad_enc", "r16")]
load("ELSOC_Long_2016_2023.RData")
load("ELSOC_Long_2016_2023.RData")
load("ELSOC_Long_2016_2023.RData")
names(elsoc_long_2016_2023)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
install.packages("pacman")
pacman::p_load(dplyr, # para sintaxis
Publish,# para IC)
gginference, # visualización
rempsyc, # reporte
kableExtra, # tablas
broom, # varios
flextable, # nice table
rempsyc,# tablas
tidyverse, # manipulación datos
sjPlot, # gráficos
rstatix, # test estadísticos
labelled,# para labels
sjmisc, # descriptivos
corrplot, # correlaciones
psych, # test estadísticos
sjstats, # tamaños de efecto
gginference,# visualización
gtools) #tablas
options(scipen = 999) # para desactivar notacion cientifica
rm(list = ls()) # para limpiar el entorno de trabajo
load("ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "edad_enc", "r16")]
frq(elsoc_subset)
elsoc_subset <- elsoc_subset %>%
mutate(across(everything(),
~ replace(.x, .x %in% c(-999, -888, -777, -666), NA)))
frq(elsoc_subset)
frq(elsoc_subset$r13_ideol_01)
ggplot(elsoc_subset, aes(x = m0_edad)) +
geom_histogram(bins = 30) +
labs(x = "Edad", y = "Frecuencia")
View(elsoc_subset)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16")]
rm(list = ls()) # para limpiar el entorno de trabajo
load("ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16")]
View(elsoc_subset)
ggplot(elsoc_subset, aes(x = m0_edad)) +
geom_histogram(bins = 30) +
labs(x = "Edad", y = "Frecuencia")
ggplot(elsoc_subset, aes(x = m0_edad)) +
geom_histogram(bins = 30) +
labs(x = "Edad", y = "Frecuencia")
Publish::ci.mean(elsoc_subset$m0_edad) #95 de confianza
elsoc_subset$r16_f <- factor(elsoc_subset$r16)
ggplot(elsoc_subset, aes(x = r16_f, y = m0_edad)) +
geom_boxplot() +
labs(x = "Confianza en inmigrantes",
y = "Edad")
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = m0_edad)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (0 = Izquierda, 10 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
elsoc_subset %>%
group_by(r13_ideol_01) %>%
summarise(
n_casos = n(),                       # Cantidad de gente en ese grupo
edad_promedio = mean(m0_edad, na.rm = TRUE), # Promedio edad
desv_estandar = sd(m0_edad, na.rm = TRUE)    # Desviación estándar
) %>%
kbl(caption = "Promedio de edad según ideología política") %>%
kable_styling(full_width = F)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
cor_test_edad_ideol <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r13_ideol_01),
method = "pearson") # Usamos Pearson si asumimos linealidad
print(cor_test_edad_ideol)
datos_correlacion <- elsoc_subset %>%
select(m0_edad, r13_ideol_01, r16) %>%
mutate(
r16_num = as.numeric(r16),
# 1. Preparar los datos: Seleccionar solo las 3 variables y asegurar que sean numéricas
datos_correlacion <- elsoc_subset %>%
select(m0_edad, r13_ideol_01, r16) %>%
mutate(
# Convertimos Confianza a número
r16_num = as.numeric(r16),
# Ideología ya suele ser numérica, pero aseguramos
ideol_num = as.numeric(r13_ideol_01)
) %>%
# Nos quedamos solo con las versiones numéricas y la edad
select(m0_edad, ideol_num, r16_num) %>%
na.omit() # Eliminamos casos vacíos para que no falle el cálculo
r16_num = as.numeric(r16)
r16_num = as.numeric(r16),
datos_correlacion <- elsoc_subset %>%
select(m0_edad, r13_ideol_01, r16) %>%
mutate(
r16_num = as.numeric(r16),
# 1. Preparar los datos: Seleccionar solo las 3 variables y asegurar que sean numéricas
datos_correlacion <- elsoc_subset %>%
select(m0_edad, r13_ideol_01, r16) %>%
mutate(
# Convertimos Confianza a número
r16_num = as.numeric(r16),
# Ideología ya suele ser numérica, pero aseguramos
ideol_num = as.numeric(r13_ideol_01)
) %>%
# Nos quedamos solo con las versiones numéricas y la edad
select(m0_edad, ideol_num, r16_num) %>%
na.omit() # Eliminamos casos vacíos para que no falle el cálculo
# 1. Preparar los datos: Seleccionar solo las 3 variables y asegurar que sean numéricas
datos_correlacion <- elsoc_subset %>%
select(m0_edad, ideol_num, r16_num) %>%
na.omit()
select(m0_edad, ideol_num, r16_num) %>%
na.omit()
select(m0_edad, ideol_num, r16_num) %>%
matriz_cor <- cor(datos_correlacion, method = "spearman")
# 1. Preparar los datos: Seleccionar solo las 3 variables y asegurar que sean numéricas
datos_correlacion <- elsoc_subset %>%
select(m0_edad, r13_ideol_01, r16) %>%
mutate(
# Convertimos Confianza a número
r16_num = as.numeric(r16),
# Ideología ya suele ser numérica, pero aseguramos
ideol_num = as.numeric(r13_ideol_01)
) %>%
# Nos quedamos solo con las versiones numéricas y la edad
select(m0_edad, ideol_num, r16_num) %>%
# 2. Calcular la matriz de correlación
# Usamos "spearman" porque tienes variables ordinales (ranking), no solo números puros.
matriz_cor <- cor(datos_correlacion, method = "spearman")
corrplot(matriz_cor,
method = "circle",       # Forma: círculos
type = "upper",          # Solo muestra la mitad superior (para no repetir)
addCoef.col = "black",   # Agrega el número del coeficiente en negro
tl.col = "black",        # Color de las etiquetas de texto
title = "Matriz de Correlación: Edad, Ideología y Confianza",
mar = c(0,0,1,0))        # Margen para que se vea el título
matriz <- elsoc_subset %>%
dplyr::select(r13_ideol_01, m0_edad, r16_f)
sjPlot::tab_corr(matriz,
na.deletion = "pairwise",
triangle = "lower")
sjPlot::tab_corr(matriz,
na.deletion = "pairwise",
triangle = "lower")
matriz <- elsoc_subset %>%
dplyr::select(r13_ideol_01, m0_edad, r16) %>%
mutate(
# 1. Preparamos la matriz asegurando que TODO sea número
matriz <- elsoc_subset %>%
dplyr::select(r13_ideol_01, m0_edad, r16) %>%
mutate(
# Convertimos la confianza a número (1, 2, 3, 4)
r16 = as.numeric(r16),
# Aseguramos que la ideología sea número (0-10)
r13_ideol_01 = as.numeric(r13_ideol_01)
) %>%
na.omit() # Borramos los datos vacíos para evitar problemas
# 1. Preparamos la matriz asegurando que TODO sea número
matriz <- elsoc_subset %>%
r13_ideol_01 = as.numeric(r13_ideol_01)
r13_ideol_01 = as.numeric(r13_ideol_01)
r13_ideol_01 = as.numeric(r13_ideol_01)
sjPlot::tab_corr(matriz,
na.deletion = "pairwise",
triangle = "lower",
title = "Matriz de Correlación (Pearson/Spearman)",
show.p = TRUE) # Muestra si es significativo (asteriscos)
View(elsoc_subset)
matriz <- elsoc_subset %>%
dplyr::select(r13_ideol_01, m0_edad, r16) %>%
mutate
# Convertimos la confianza a número (1, 2, 3, 4)
r16 = as.numeric(r16)
r16 = as.numeric(r16),
r16 = as.numeric(r16),
r16 = as.numeric(r16)
frq(elsoc_subset)
names(elsoc_subset)
View(elsoc_subset)
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = m0_edad)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (0 = Izquierda, 10 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
elsoc_subset %>%
group_by(r13_ideol_01) %>%
summarise(
n_casos = n(),                       # Cantidad de gente en ese grupo
edad_promedio = mean(m0_edad, na.rm = TRUE), # Promedio edad
desv_estandar = sd(m0_edad, na.rm = TRUE)    # Desviación estándar
) %>%
kbl(caption = "Promedio de edad según ideología política") %>%
kable_styling(full_width = F)
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = m0_edad)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (0 = Izquierda, 10 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = m0_edad)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (1 = Izquierda, 6 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
View(elsoc_subset)
names(elsoc_long_2016_2023)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16", "m0_sexo")]
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16", "m0_sexo")]
install.packages("pacman")
pacman::p_load(dplyr, # para sintaxis
Publish,# para IC)
gginference, # visualización
rempsyc, # reporte
kableExtra, # tablas
broom, # varios
flextable, # nice table
rempsyc,# tablas
tidyverse, # manipulación datos
sjPlot, # gráficos
rstatix, # test estadísticos
labelled,# para labels
sjmisc, # descriptivos
corrplot, # correlaciones
psych, # test estadísticos
sjstats, # tamaños de efecto
gginference,# visualización
gtools) #tablas
options(scipen = 999) # para desactivar notacion cientifica
rm(list = ls()) # para limpiar el entorno de trabajo
load("ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16", "m0_sexo")]
frq(elsoc_subset)
elsoc_subset <- elsoc_subset %>%
mutate(across(everything(),
~ replace(.x, .x %in% c(-999, -888, -777, -666), NA)))
frq(elsoc_subset)
frq(elsoc_subset$m0_sexo)
plot_frq(elsoc_subset$m0_sexo)
tab_xtab(var.row = elsoc_subset$r16,
var.col = elsoc_subset$m0_sexo,
title = "Nivel de Confianza según Sexo",
show.col.prc = TRUE)
plot_xtab(x = elsoc_subset$m0_sexo,
grp = elsoc_subset$r16,
type = "bar",
margin = "row",
bar.pos = "stack",
title = "Distribución de la Confianza por Sexo",
show.total = FALSE)
elsoc_subset$r16_num <- as.numeric(elsoc_subset$r16)
View(elsoc_subset)
elsoc_subset %>%
levene_test(r16_num ~ m0_sexo)
elsoc_subset %>%
levene_test(r16_num ~ m0_sexo)
elsoc_subset %>%
levene_test(r16_num ~ as.factor(m0_sexo))
t_test_result <- t.test(r16_num ~ m0_sexo,
data = elsoc_subset,
var.equal = FALSE)
print(t_test_result)
t_test_result <- t.test(r16_num ~ m0_sexo,
data = elsoc_subset,
var.equal = FALSE)
print(t_test_result)
elsoc_subset %>%
cohens_d(r16_num ~ m0_sexo, var.equal = FALSE)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = m0_edad)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (1 = Izquierda, 6 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
elsoc_subset %>%
group_by(r13_ideol_01) %>%
summarise(
n_casos = n(),                       # Cantidad de gente en ese grupo
edad_promedio = mean(m0_edad, na.rm = TRUE), # Promedio edad
desv_estandar = sd(m0_edad, na.rm = TRUE)    # Desviación estándar
) %>%
kbl(caption = "Promedio de edad según ideología política") %>%
kable_styling(full_width = F)
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = r16)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Distribución de Edad según Posición Política",
x = "Posición Política (1 = Izquierda, 6 = Derecha)",
y = "Edad del encuestado"
) +
theme_minimal()
ggplot(elsoc_subset, aes(x = factor(r13_ideol_01), y = r16)) +
geom_boxplot(fill = "skyblue", alpha = 0.6) +
labs(
title = "Confianza en inmigrantes × ideología",
x = "ideologia politica (1 = Izquierda, 6 = Derecha)",
y = "Confianza"
) +
theme_minimal()
library(sjPlot)
plot_xtab(elsoc_subset$ideologia_cat,
elsoc_subset$r16,
margin = "row",
bar.pos = "stack",
title = "Nivel de Confianza según Posición Política",
show.total = FALSE,
geom.colors = "Paired")
plot_xtab(elsoc_subset$ideologia_cat,
elsoc_subset$r16,
margin = "row",
bar.pos = "stack",
title = "Nivel de Confianza según Posición Política",
show.total = FALSE,
geom.colors = "Paired")
library(sjPlot)
plot_xtab(elsoc_subset$ideologia_cat,
elsoc_subset$r16,
margin = "row",
bar.pos = "stack",
title = "Nivel de Confianza según Posición Política",
show.total = FALSE,
geom.colors = "Paired")
frq(elsoc_subset)
frq(elsoc_subset$r13_ideol_01)
plot_frq(elsoc_subset$r13_ideol_01)
plot_frq(elsoc_subset$r16)
descr(elsoc_subset$m0_edad)
ggplot(elsoc_subset, aes(x = m0_edad)) +
geom_histogram(bins = 30) +
labs(x = "Edad", y = "Frecuencia")
descr(elsoc_subset$m0_edad)
Publish::ci.mean(elsoc_subset$m0_edad) #95 de confianza
frq(elsoc_subset$m0_sexo)
plot_frq(elsoc_subset$m0_sexo)
tab_xtab(elsoc_subset$r16,
elsoc_subset$r13_ideol_01,
show.row.prc = TRUE,
show.col.prc = TRUE)
plot_xtab(elsoc_subset$r13_ideol_01,
elsoc_subset$r16,
margin = "row")
elsoc_subset$r16_f <- factor(elsoc_subset$r16)
ggplot(elsoc_subset, aes(x = r16_f, y = m0_edad)) +
geom_boxplot() +
labs(x = "Confianza en inmigrantes",
y = "Edad")
elsoc_subset %>%
group_by(r16) %>%
summarise(
n = n(),
media_edad = mean(m0_edad, na.rm = TRUE),
sd_edad = sd(m0_edad, na.rm = TRUE)
)
plot_xtab(elsoc_subset$r13_ideol_01,
elsoc_subset$r16,
margin = "row")
frq(elsoc_subset)
frq(elsoc_subset$r13_ideol_01)
Publish::ci.mean(elsoc_subset$m0_edad) #95 de confianza
frq(elsoc_subset$m0_sexo)
plot_frq(elsoc_subset$m0_sexo)
plot_xtab(elsoc_subset$r13_ideol_01,
elsoc_subset$r16,
margin = "row")
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
elsoc_subset$r16_num <- as.numeric(elsoc_subset$r16)
t_test_result <- t.test(r16_num ~ m0_sexo,
data = elsoc_subset,
var.equal = FALSE)
print(t_test_result)
elsoc_subset %>%
cohens_d(r16_num ~ m0_sexo, var.equal = FALSE)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
elsoc_subset$r16_num <- as.numeric(elsoc_subset$r16)
t_test_result <- t.test(r16_num ~ m0_sexo,
data = elsoc_subset,
var.equal = FALSE)
print(t_test_result)
elsoc_subset %>%
cohens_d(r16_num ~ m0_sexo, var.equal = FALSE)
descr(elsoc_subset$m0_edad)
descr(elsoc_subset$m0_edad)
test_chi <- chisq.test(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
print(test_chi)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
library(rstatix)
cramer_v(elsoc_subset$r16, elsoc_subset$r13_ideol_01)
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
cor_test_edad_conf <- cor.test(elsoc_subset$m0_edad,
as.numeric(elsoc_subset$r16),
method = "spearman")
print(cor_test_edad_conf)
elsoc_subset$r16_num <- as.numeric(elsoc_subset$r16)
t_test_result <- t.test(r16_num ~ m0_sexo,
data = elsoc_subset,
var.equal = FALSE)
print(t_test_result)
elsoc_subset %>%
cohens_d(r16_num ~ m0_sexo, var.equal = FALSE)
frq(elsoc_subset)
rm(list = ls()) # para limpiar el entorno de trabajo
load("ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
load("ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_subset[, c("r13_ideol_01", "m0_edad", "r16", "m0_sexo")]
rm(list = ls()) # para limpiar el entorno de trabajo
load("C:/Users/And/Desktop/Trabajo Final Correlacional/ELSOC_Long_2016_2023.RData")
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
elsoc_subset <- elsoc_long_2016_2023 %>% filter(ola == 2)
